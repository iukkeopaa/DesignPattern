### 责任链



使多个对象都有机会处理请求，从而避免请求的发送者和接收者之间的耦合关系。将这些对象连成一条链，并沿着这条链发送该请求，直到有一个对象处理它为止。


### 概念

一个请求有多个对象来处理，这些对象形成一条链，根据条件确定具体由谁来处理，如果当前对象不能处理则传递给该链中的下一个对象，直到有对象处理它为止。 责任链模式通过将请求和处理分离开来，以进行解耦。职责链模式结构的核心在于引入了一个抽象处理者。

职责链模式通过建立一条链来组织请求的处理者，请求将沿着链进行传递，请求发送者无须知道请求在何时、何处以及如何被处理，实现了请求发送者与处理者的解耦。 在软件开发中，如果遇到有多个对象可以处理同一请求时可以应用职责链模式，例如在Web应用开发中创建一个过滤器(Filter)链来对请求数据进行过滤， 在工作流系统中实现公文的分级审批等等，使用职责链模式可以较好地解决此类问题。


### 应用场景

* 多个对象可以处理一个请求，但具体由哪个对象处理该请求在运行时自动确定。
* 可动态指定一组对象处理请求，或添加新的处理者。
* 需要在不明确指定请求处理者的情况下，向多个处理者中的一个提交请求。


### 优点

* 将请求与处理解耦。
* 请求处理者（节点对象）只需要关注自己感兴趣的请求进行处理即可，对于不感兴趣的请求，转发给下一个节点。
* 具备链式传递处理请求功能，请求发送者无需知晓链路结构，只需等待请求处理结果。
* 链路结构灵活，可以通过改变链路的结构动态的新增或删减责任。
* 易于扩展新的请求处理类（节点），符合开闭原则。


### 缺点


* 责任链太长或者处理时间过长，会影响整体性能。
* 如果节点对象存在循环引用时，会造成死循环，导致系统崩溃。

### 任链模式有多种实现方式

从驱动责任链上处理器方式的角度可以分类两类，即责任链驱动 和 责任链处理器自驱动。